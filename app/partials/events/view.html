<section ng-controller="EventCtrl" class="event">
  <h2 class="event-title" ng-bind="currentEvent.title"></h2>
  <nav class="event-options">
    <a href="javascript:void(0)" title="Edit this event" ng-click="editEvent(currentEvent.id, currentEvent.title)">Edit</a> - 
    <a href="javascript:void(0)" title="Remove this event" ng-click="deleteEvent(currentEvent.id, currentEvent.title)">Remove</a>
  </nav><br />
  <div id="users">
    <h3>Fill your dates</h3>
    <material-content >
      <p>
        <md-checkbox ng-model="userRejected" aria-label="Reject">
          I will not take part
        </md-checkbox>
      </p>
      <div class="user-calendar" hm-calendar="userDates" hm-calendar-disabled="userRejected"></div>
      <md-radio-group class="anim-fadeIn" ng-if="currentDateModel" ng-model="currentDateModel.time">
        <md-radio-button value="day" aria-label="All day long">All day long</md-radio-button>
        <md-radio-button value="morning"  aria-label="Just morning">Just morning</md-radio-button>
        <md-radio-button value="afternoon" aria-label="Just afternoon">Just afternoon</md-radio-button>
      </md-radio-group>
    </material-content>
  </div>
  <div id="view">
    <h3>Overview</h3>
    <p>
      {{ getPreferencesNumber() }} subscribed.
    </p>
    <p ng-if="getRejectedNumber() == 1">
      {{ getRejectedNumber() }} will not take part.
    </p>
    <div id="preferences-cals">
      <div hm-calendar="preferredDays" hm-calendar-disabled="true"></div>
    </div>
  </div>
  <div id="subscriptions">
    <h3>Subscriptions</h3>
    <p ng-if="!hasSubscriptions()">
      No subscriptions yet :(
    </p>
    <nav class="filters" ng-if="hasSubscriptions()">
      <span>Order by: </span>
      <a href="javascript:void(0)" ng-class="{ 'on': filter == 'date' }" ng-click="setFilter('date')">date</a> / 
      <a href="javascript:void(0)" ng-class="{ 'on': filter == 'day' }" ng-click="setFilter('day')">best day</a>
    </nav>
    <ul class="no-list">
      <li class="per-date anim-zoomIn" ng-repeat="d in currentEvent.dates | orderFilter:filter">
        <h4 class="date" data-number="{{ d.users.length }}">{{ d.date }}</h4>
        <ul class="no-list">
          <li ng-repeat="userData in d.users" class="avatar-crop anim-zoomIn">
            <img title="{{ getRealName(getProfile(userData)) }}" draggable="false" ng-src="{{ getAvatar(getProfile(userData)) }}" />
          </li>
        </ul>
      </li>
    </ul>
  </div>
</section>